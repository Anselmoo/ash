
###########################
#Installation instructions
###########################

###########################
#SEMI-AUTOMATIC INSTALLATION
#handles Python package addition and Julia installation and packages
###########################

1. Make sure the Python3 installation you wish to use is active (which python3).
Or set path_to_python3_dir in ./install_ash.sh script.
Note: You need to be able to install packages to this installation via pip (either locally or globally)

2. cd to ASH directory. Do: chmod +x ./install_ash.sh and run:  ./install_ash.sh . Make sure installation succeeds.

3. Run: source ./set_environment_ash.sh
    and that's it!


###########################
#MANUAL INSTALLATION
###########################

See https://ash.readthedocs.io/en/latest/setup.html  for  detailed instructions on getting Python3, Julia, PyJulia etc.
up and running

Simple expert instructions:
- Use a Python3 with Numpy. Make sure to have in PATH.
- Install Julia if not available (Julia 1.6 recommended) and make sure that the Julia binary dir is in PATH.
- Make sure ASH is in PATH:

export ASHPATH=/path/to/ash  # Change /path/to/ash to the actual ASH directory location on your machine
export PYTHONPATH=$ASHPATH:$ASHPATH/lib:$PYTHONPATH
export PATH=$ASHPATH:$PATH
export LD_LIBRARY_PATH=$ASHPATH/lib:$LD_LIBRARY_PATH

- pip3 install geometric  # Install geometry optimizer python package
- pip3 install julia    #Install PyJulia inside Python
- Install Julia packages:   julia $ASHPATH/julia-packages-setup.jl 

Note: On a computing cluster a single installation should be sufficient.
Then set the environment variables for each user and each user has to run once:
   julia $ASHPATH/julia-packages-setup.jl 

#####################
#AFTER INSTALLATION
#####################
- Make sure the /path/to/ash/python3_ash is executable:
    chmod ugo+x /path/to/ash/python3_ash

- Make sure Python3, Julia, the ASH-directory are available:
  Try:
  which python3
  which Julia
  which python3_ash

  If the 'which' commands point to the correct versions then you should be ready to go.

- Copy ASH settings file to your user's home-directory and modify as needed
  cp /path/to/ash/ash_user_settings.ini ~/


- Test installation

   # Basic test:
   cd $ASHPATH
   python3_ash  test_ash.py
   Should launch ASH and print "ASH and geometric finished. Everything looks good" if successful

   #More tests to come